Docker image:
(Ubuntu)

apt  update -y
apt install software-properties-common -y
add-apt-repository ppa:deadsnakes/ppa
apt update -y
apt install python3.9 python3-pip -y
pip install kivy
pip install buildozer
apt install -y git zip unzip openjdk-17-jdk python3-pip autoconf libtool pkg-config zlib1g-dev libncurses5-dev libncursesw5-dev libtinfo5 cmake libffi-dev libssl-dev
pip install --upgrade Cython==0.29.19 virtualenv

apt install -y aidl

apt install
      1  python
    2  which python
    3  sudo apt update
    4  apt update
    5  apt install software-properties-common
    6  apt install python3.9
    7  add-apt-repository ppa:deadsnakes/ppa
    8  sudo apt install python3.9
    9  apt install python3.9
   10  pip
   11  apt install python3-pip
   12  pip freeze
   13  pip install kivy
   14  pip install buildozer
   15  history
   16  ls
   17  mkdir simpleapp
   18  mvi main.py
   19  vi main.py
   20  apt install vim
   21  vi main.py
   22  buildozer init
   23  ls
   24  pd
   25  pwd
   26  mkdir simpleapp/
   27  mv main.py simpleapp/
   28  buildozer init
   29  ls
   30  pwd
   31  cd simpleapp/
   32  buildozer init
   33  vi buildozer.spec 
   34  buildozer -v android debug
   35  apt install git
   36  buildozer -v android debug
   37  pip install Cython
   38  buildozer -v android debug
   39  java -version
   40  sudo apt install default-jre
   41  sudo apt install openjdk-11-jre-headless
   42  apt install default-jre
   43  java --version
   44  java
   45  javac
   46  apt install default-jdk
   47  javac
   48  history
   46  apt install default-jdk
   47  javac
   48  history
   49  buildozer -v android debug
   50  apt get install unzip
   51  apt install unzip
   52  buildozer -v android debug
   53  apt install android-sdk
   54  buildozer -v android debug
   55  sdkmanager
   56  apt install sdkmanager
   57  buildozer -v android debug
   58  sdkmanager
   59  /root/.buildozer/android/platform/android-sdk/tools/bin/sdkmanager
   60  ls /root/.buildozer/
   61  ls /root/.buildozer/android/platform/
   62  ls /root/.buildozer/android/platform/android-sdk/
   63  ls /root/.buildozer/android/platform/android-sdk/commandlinetools-linux-6514223_latest.zip 
   64  apt install -y git zip unzip openjdk-17-jdk python3-pip autoconf libtool pkg-config zlib1g-dev libncurses5-dev libncursesw5-dev libtinfo5 cmake libffi-dev libssl-dev
   65  ls -a
   66  rm -rf .buildozer/
   67  ls bin
   68  ls
:1
   69  rm -rf bin/
   70  buildozer -v android debug
   71  ls
   72  ls -a
   73  ls .buildozer/
   74  ls .buildozer/android/
   75  ls .buildozer/android/platform/python-for-android/





--------
    1  apt update -y
    2  DEBIAN_FRONTEND=noninteractive apt install -qq --yes --no-install-recommends     autoconf DEBIAN_FRONTEND=noninteractive apt install -qq --yes --no-install-recommends     autoconf \
    3  DEBIAN_FRONTEND=noninteractive apt install -qq --yes --no-install-recommends     autoconf DEBIAN_FRONTEND=noninteractive apt install -qq --yes --no-install-recommends     autoconf
    4  apt install software-properties-common -y 
    5  apt install -y autoconf
    6  apt install -y automake build-essential ccache cmake gettext git libffi-dev libltdl-dev libssl-dev libtool
    7  apt install -y openjdk-13-jdk patch pkg-config python3-pip python3-setuptools sudo unzip zip
    8  apt install -y openjdk-17-jdk
    9  javac
   10  apt install -y  patch pkg-config python3-pip python3-setuptools sudo unzip zip
   11  apt install -y zlib1g-dev
   12  pip
   13  useradd --create-home --shell /bin/bash user
   14  usermod -append --groups sudo user
   15  echo "%sudo ALL=(ALL) NOPASSWD: ALL" >> /etc/sudoers
   16  more /etc/sudoers
   17  pip3
   18  which pip
   19  pip --version
   20  pip3 --version
   21  which pip3
   22  ls -l /usr/bin/pip
   23  pip3 install --upgrade Cython
   24  pip3 install kivy
   25  pip3 install buildozer
   26  ls
   27  su - user
   28  history


    1  pwd
    2  mkdir simple app
    3  history
    4  rm -rf simple/
    5  ls
    6  rm -rf app
    7  pwd
    8  mkdir simpleapp
    9  cd simpleapp/
   10  vi
   11  apt install -y vim
   12  sudo apt install -y vim
   13  vi main.py
   14  ls
   15  buildozer init
   16  vi buildozer.spec 
   17  buildozer android debug -v
   18  ls /usr/bin/aidl
   19  ls /home/user/.buildozer/android/platform/android-sdk/build-tools/33.0.1/aidl
   20  /home/user/.buildozer/android/platform/android-sdk/build-tools/33.0.1/aidl
   21  ls -l /home/user/.buildozer/android/platform/android-sdk/build-tools/33.0.1/aidl
   22  /home/user/.buildozer/android/platform/android-sdk/build-tools/33.0.1/aidl
   23  apt install -y aidl
   24  sudo apt install -y aidl
   25  buildozer android debug -v
   26  which aidl
   27  cp /usr/bin/aidl /home/user/.buildozer/android/platform/android-sdk/build-tools/33.0.1/aidl
   28  buildozer android debug -v
   29  history



========================
Ubuntu 20.04

    1  ls
    2  pwd
    3  ls -l
    4  mkdir simpleapp
    5  cd simpleapp
    6  vi
    7  apt install -y vim
    8  sudo apt install -y vim
    9  vi main.py
   10  ls
   11  buildozer init
   12  vi buildozer.spec 
   13  buildozer android debug -v
   14  vi buildozer.spec 
   15  buildozer android debug -v
   16  wget
   17  apt install -y wget
   18  sudo apt install -y wget
   19  wget https://dl.google.com/android/repository/android-ndk-r17b-linux-x86.zip
   20  pip3 install --upgrade buildozer
   21  wget http://dl.google.com/android/ndk/android-ndk-r9c-linux-x86_64.tar.bz2
   22  pwd
   23  vi buildozer.spec 
   24  buildozer android debug -v
   25  ls
   26  pwd
   27  ls /home/user/.buildozer/
   28  ls /home/user/.buildozer/android/
   29  ls /home/user/.buildozer/android/platform/
   30  ls -l /home/user/.buildozer/android/platform/
   31  vi buildozer.spec 
   32  buildozer android debug -v
   33  ls -l
   34  rm android-ndk-r9c-linux-x86_64.tar.bz2 
   35  ls -l /home/user/.buildozer/android/platform/
   36  wget https://dl.google.com/android/repository/android-ndk-r21e-linux-x86_64.zip
   37  cp android-ndk-r21e-linux-x86_64.zip  /home/user/.buildozer/android/platform/.
   38  buildozer android debug -v
   39  ls -l /home/user/.buildozer/android/platform/
   40  cd /home/user/.buildozer/android/platform/
   41  unzip android-ndk-r21e-linux-x86_64.zip 
   42  cd
   43  cd simpleapp/
   44  buildozer android debug -v
   45  apt install -y aidl
   46  sudo apt install -y aidl
   47  cp /usr/bin/aidl /home/user/.buildozer/android/platform/android-sdk/build-tools/33.0.1/aidl
   48  buildozer android debug -v
   49  vi buildozer.spec 
   50  buildozer android debug -v
   51  wget https://dl.google.com/android/repository/android-ndk-r25b-linux.zip
   52  ls /home/user/.buildozer/android/platform/
   53  ls
   54  cp android-ndk-r25b-linux.zip /home/user/.buildozer/android/platform/.
   55  cd /home/user/.buildozer/android/platform/
   56  ls
   57  ls -l
   58  unzip android-ndk-r25b-linux.zip
   59  vcd
   60  cd
   61  cd simpleapp/
   62  vi buildozer.spec 
   63  buildozer android debug -v
   64  sudo apt install -y     build-essential     ccache     git     libncurses5:i386     libstdc++6:i386     libgtk2.0-0:i386     libpangox-1.0-0:i386     libpangoxft-1.0-0:i386     libidn11:i386     python2.7     python2.7-dev     openjdk-8-jdk     unzip     zlib1g-dev     zlib1g:i386     libltdl-dev     libffi-dev     libssl-dev     autoconf     autotools-dev     cmake
   65  sudo apt install -y     build-essential     ccache     git     libncurses5   libstdc++6  libgtk2.0-0     libpangox-1.0-0     libpangoxft-1.0-0     libidn11     python2.7     python2.7-dev     openjdk-8-jdk     unzip     zlib1g-dev     zlib1g     libltdl-dev     libffi-dev     libssl-dev     autoconf     autotools-dev     cmake
   66  buildozer android debug -v
   67  more config.log
   68  ls
   69  find / -name config.log
   70  mvi /home/user/simpleapp/.buildozer/android/platform/build-arm64-v8a_armeabi-v7a/build/other_builds/libffi/armeabi-v7a__ndk_target_21/libffi/config.log
   71  vi /home/user/simpleapp/.buildozer/android/platform/build-arm64-v8a_armeabi-v7a/build/other_builds/libffi/armeabi-v7a__ndk_target_21/libffi/config.log
   72  history


    1  apt update -y
    2  apt install -y autoconf
    3  apt install -y automake build-essential ccache cmake gettext git libffi-dev libltdl-dev
    4  apt install -y libssl-dev libtool openjdk-13-jdk
    5  apt install -y patch pkg-config python3-pip python3-setuptools sudo unzip zip zlibg-dev
    6  apt install -y patch pkg-config python3-pip python3-setuptools sudo unzip zip zlib1g-dev
    7  useradd --create-home --shell /bin/bash user
    8  usermod -append --groups sudo user
    9  echo "%sudo ALL=(ALL) NOPASSWD: ALL" > /etc/sudoers
   10  cat /etc/sudoers
   11  pip3
   12  pip3 install --upgrade Cython 
   13  pip3 install buildozer
   14  su - user
   15  history

---------------

Working:
docker run --platform linux/x86_64 -it ubuntu:latest /bin/bash
docker run --platform linux/x86_64 -it ubuntu:22.04 /bin/bash

    1  pwd
    2  mkdir simpleapp
    3  cd simpleapp/
    4  ls
    5  vi main.py
    6  buildozer init
    7  vi buildozer.spec 
    8  buildozer android debug -v
    9  vi buildozer.spec 
   10  buildozer android debug -v
   11  vi buildozer.spec 
   12  buildozer android debug -v
   13  sudo apt install libffi-dev
   14  buildozer android debug -v
   15  ls
   16  ls -la
   17  ls -la .buildozer/
   18  rm -rf .buildozer/
   19  buildozer android debug -v
   20  ps -ef
   21  kill -9 20440 20895 20898 21554
   22  ps -ef
   23  kill -9 91594 21557 91652
   24  ps -ef
   25  buildozer android debug -v
   26  ls
   27  ls bin/
   28  ls -l bin/
   29  ls -lh bin/
   30  history


    1  apt update -y
    2  apt install autoconf
    3  apt install python3-pip
    4  apt install autoconf automake build-essential ccache cmake gettext git
    5  ap install -y libltdl-dev
    6  apt install -y libltdl-dev
    7  apt install -y libtool
    8  apt install -y libssl-dev
    9  apt install -y libtool openjdk-13-jdk
   10  apt install openjdk-17-jdk
   11  apt install -y patch pkg-config python3-pip python3-setuptools
   12  apt install -y sudo unzip zip zlib1g-dev
   13  pip3
   14  pip3 install --upgrade Cython buildozer kivy
   15  useradd --create-home --shell /bin/bash user    
   16  usermod -append --groups sudo user
   17  cat /etc/sudoers
   18  echo "%sudo ALL=(ALL) NOPASSWD: ALL" > /etc/sudoers 
   19  apt install -y vim
   20  history
   21  su - user
   22  history

 




